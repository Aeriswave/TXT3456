# STRAB   
> версия 2021   
>       
Формат последовательности текстовых символов разной длины. Название форматов состоит из трех частей:
- str (сокращенно от string)
- A = число бит в 1 последовательности символов (включая биты для обозначения режима отображения последовательности текстовых символа)
- B = число текстовых символов в одной последовательности    

# Назначение и цели создания      
Универсальный формат текстовых данных, предназначенный для удобной работы с простыми текстовыми данными.   

# Причина создания   
Отсутствуют (не нашел) универсального решения, позволяющего корректно и просто хранить, передавать, обрабатывать и отображать текстовую информацию.   
Дополнительные преимущества:
- простое побитовое отсечение информации, содержащей информацию только об оформлении текста;
- простое побитовое разделения текстовой информации и информации о режиме отображения текста. 

# Форматы последовательности текстовых символов
## STR31: Формат последовательности текстовых символов str31   
Размер символа 8 бит (2^3), включает в себя только значение самого текстового символа.   
Одное из значений = обозначению "пустого", "несуществующего", "незаданного" или "неотображаемого" текстового символа.   
Используемая кодировка символов **UTF8** или другая, подходящая по размеру.   

## STR41: Формат последовательности текстовых символов str41   
Размер символа 16 бит (2^4), включает в себя:   
### (0й байт)   
0...7 бит- обозначение режима отображения текстового символа:   
-- **0й и 1й** биты зарезервированы для обозначения дополнительных данных о размере и размещении текста относительно высоты строки:   
>     обычное=00, подстрочное=01, надстрочное=10, заглавное=11;
>     обозначения в исходном тексте:
>     подстрочное="_<текст<_", заглавное "_^текст^_", надстрочное "_>текст>_"   
>     или подстрочное="*<текст<*", заглавное "*^текст^*", надстрочное "*>текст>*"   
>     
-- **2й** бит для обозначения курсива:          без курсива (=0) или курсив (=1, "_текст_" или "*текст*")   
-- **3й** бит для обозначения выделения:        без выделения (=0) или жирный (=1, "__текст__" или "**текст**")   
-- **4й** бит для обозначения подчеркивания:    без подчеркивания (=0) или с подчеркиванием (=1, "___текст___" или "***текст***")   
-- **5й** бит для обозначения стиля|шрифта:     обычный (=0) или специальный (=1, "_|текст|_" или "*|текст|*")   
-- **6й и 7й** биты для обозначения цвета текста (подсветка):   
> обычный (=00),    
> RGB (красный=01, зеленый=01, синий=11: "===текст===", "==текст==", "=текст=")   
>    
> Формат для обозначения жирного курсива: "_*текст*_" или "_*текст*_"    
> Формат для обозначения подчеркнутого курсива: "_:текст:_"     
> Формат для обозначения подчеркнутого жирного курсива: "_:*текст*:_"   
> Формат для обозначения зачеркивания в тексте: "_-текст-_" или "*-текст-*"   
> 
**НЕ рекомендуется** в обозначениях режима отображения текстового символа хранить информацию о зачеркивании _-символа-_.   
**Причина ограничения**: отсечение информации об оформлении поменяет __-зачёркнутый-__ текст на обычный, что значительно искажает смысл исходной текстовой информации.   
**Рекомендуется**: Информацию о зачеркивании текстового символа хранить непосредственно в самом значении текстового символа, т.е. в неотсекаемой части текстовой последовательности.   

### (1й байт)
8...15 бит - значение самого текстового символа, размером 8 бит   

## STR51: Формат последовательности текстовых символов str51   
Размер символа 32 бит (2^5), включает в себя:   
### (0й байт)
0...7 бит   - обозначение режима отображения текстового символа (аналогично формату **STR41**).   
### (1й байт)
8...31 бит  - значение самого текстового символа, размером 24 бит.   

## STR53: Формат последовательности текстовых символов str53   
Состоит из 3х (трех) последовательных текстовых символов.   
Если символов меньше 3х, то вместо недостающих значений устанавливаются значение "несуществующего" или "пустого" символа.   
Размер символа 32 бит (2^5), включает в себя обозначение режимов отображения текстовых символов и 3 символа размером 8 бит каждый:   
### (0й байт)
0...7 бит   - обозначение режима отображения текстового символа (аналогично формату **STR41**)   
### (1...3й байты)
8...15 бит  - значение текстового символа, размером 8 бит   
16...23 бит - значение текстового символа, размером 8 бит   
24...31 бит - значение текстового символа, размером 8 бит   

## STR67: Формат последовательности текстовых символов str67   
Размер 64 бит (2^6) (предназначен для ускорения работы на 64 битных процессорах и экономии памяти):   
Состоит из изобозначения режима отображения текстового символа и 7 (семи) последовательных текстовых символов.   
Размер одного текстового символа в последовательности 8 бит.   
Если символов меньше 7, то вместо недостающих значений устанавливаются значение "несуществующего" или "пустого" символа.   
   
### (0й байт)
0...7 бит   - обозначение режима отображения текстового символа (аналогично формату **STR41**)   
### (1...7й байты)
8...15 бит  - значение текстового символа, размером 8 бит   
16...23 бит - значение текстового символа, размером 8 бит   
24...31 бит - значение текстового символа, размером 8 бит   
32...39 бит - значение текстового символа, размером 8 бит   
40...47 бит - значение текстового символа, размером 8 бит   
48...55 бит - значение текстового символа, размером 8 бит   
56...63 бит - значение текстового символа, размером 8 бит   

/// Черновик: Структура электронной книги   
Интерфейс книги:      
   Тема;   
   Оглавление НЕпрочитанных разделов (главы для чтения, сюжет);   
   Разделы книги:   
      Заголовки разделов;   
      Текст разделов;   
      Окна отображения иллюстраций (картинок и видео) (вставка в нужных местах текста при редактировании);   
      Диалоговые окна терминала для вывода интерактивного текста (вставка в нужных местах текста при редактировании) и "одноразовые кнопки" для взаимодействия с читателем по ходу диалога;   
      "Кнопки" перехода к следующему разделу читаемого текста (один раздел, одно вариативное исполнение кода в конце прочитанного раздела, возможный выбор направления перехода);   
   Оглавление прочитанных разделов (последовательные главы для чтения);   
   Сохранение (и возможность загрузки) текущей версии состояния читаемой книги;   
Возможность влияния читателя:
   на сюжет (через влияние на решения ИИ одного из персонажей книги);  
   на навигацию по сюжету (через выбранные читателем переходы к следующим читаемым разделам);   
Программные сущности книги:   
   Структура классов, функции, интерфейсов и данных;   
   Сущности книги (объекты, данные, и ИИ);   
   Последовательность развития сюжета и отображение событий в книге (переходы между разделами);   
   Последовательность чтения книги (Навигация по разделам для прочтения, в зависимости от принятых в диалогах читателем решений, решений ИИ, полученного результата и развития сюжета).   
   Автоматическая генерация некоторых разделов, в зависимости от принятых в диалогах читателем решений, решений ИИ, полученного результата и развития сюжета.


/// Markdown разметка   
# Заголовок 1
## Заголовок 2
### Заголовок 3
[отображаемое название ссылки](https://ru.wikipedia.org/)
![отображаемое название картинки](ссылка на картинку "описание при наведении")

**Сослаться по номеру [один][1], сослаться по номеру [два][2].**
[1]: https://google.ru "Гугл" 
[2]: https://yandex.ru "Яндекс"
ссылка на сноску[^1]
[^1]: Заметка в конце блока или статьи. В данном случае - в конце блока.
